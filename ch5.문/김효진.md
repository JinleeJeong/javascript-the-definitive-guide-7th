# 5. 문

표현식이 자바스크립트의 구절이라면

문은 자바스크립트의 문장이나 명령어

표현식은 ‘평가'를 통해 값으로 바뀌지만, 문은 ‘실행'을 통해 어떤 동작을 수행

표현문

- 할당이나 함수 호출처럼 부수 효과가 있는 표현식

선언문

- 변수를 선언하거나 함수를 정의

제어문

- 조건문
    - if, switch
    - 자바스크립트 인터프리터가 표현식의 값에 따라 다른 문을 실행하거나 실행하지 않게 하는 문
- 루프
    - while, for
    - 다른 문을 반복적으로 실행하는 문
- 점프
    - break, return, throw
    - 인터프리터가 프로그램의 다른 부분으로 건너뛰게 하는 문

자바스크립트 프로그램은 간단히 말해 세미콜론으로 구분된 문의 모음에 불과하다

## **5.1** 표현문

- 할당문
    - 증가, 감소 연산자. 할당을 수행한 것처럼 변수의 값을 바구는 부수 효과가 있다
    - delete 연산자. 객체 프로퍼 티를 삭제하는 중요한 부수 효과가 있다
- 함수 호출
    - 표현식이지만 프로그램의 상태나 호스트 환경에 영향을 미치는 부수 효과가 있다

## **5.2** 복합문과 빈 문

- 복합문 : 여러 개의 중괄호로 묶인 문
- 문 블록
    - 블록은 세미콜론으로 끝나 지 않는다
    - 블록에 들어 있는 행은 자신을 감싼 중괄호를 기준으로 들여 쓴다 (필수는 아님)
- 단일 하위 문으로 구성될 수 있음 ex. while 로푸 문법
- 빈 문
    - ;
    - 자바스크립트 인터프리터는 빈 문을 실행할 때 아무 일도 하지 않는다
    - 빈 바디를 갖는 루프를 만들고자 할 때 유용
    
    ```jsx
    // 배열 a를 초기화합니다.
    for(let i = 0; i < a.length; a[i-n-] = 0) ;
    ```
    
    - for 루프, while 루프, if 문의 닫는 괄호 다음에 실수로 세미콜론을 쓰면 찾기 힘든 버그가 생길 수 있다
    
    ```jsx
    if((a===0) || (b===0)); //이런!이행은아무일도하지않습니다.
    o = null; // 그리고 이 행은 조건과 상관없이 항상 실행됩니다.
    
    for(let i = 0; i < a.length; a[i++] = 0) /* 의도적으로 비움. */ ;
    ```
    

## **5.3** 조건문

분기점 (branch)

### **5.3.1 if**

if 문은 자바스크립트가 조건에 따라 문을 실행할 수 있게 하는 기본적인 제어문

```jsx
if (expression)
	statement
```

expression(표현식)을 평가하여 결괏값이 true 같은 값이면 statement(문)을 실행하고,  false 같은 값이면 statement를 실행하지 않는다

```jsx
if (expression)
	statement1
else
	statement2
```

expression이 true 같은 값이면 statementl을 실행하고, false 같은값 이면 statement를 실행

자바스크립트의 규칙은 기본적으로 else 절을 가장 가까운 if 문의 일부로 해석

중괄호 써서 명확하게 표현하기!

### **5.3.2 else if**

```jsx
if (n === 1) {
	// 코드 블록 #1을 실행합니다.
} else if (n === 2) {
	// 코드 블록 #2를 실행합니다.
} else if (n === 3) {
	// 코드 블록 #3을 실행합니다.
} else {
	// 전부 실패하면 블록 #4를 실행합니다.
}
```

### **5.3.3 switch**

```jsx
switch(n) { 
case 1: // n === 1이면 여기서 시작합니다.
	// 코드 블록 #1을 실행합니다.
	break; // 여기서 멈춥니다.
case 2: // n === 2이면 여기서 시작합니다.
	// 코드 블록 #2를 실행합니다.
	break; // 여기서 멈춥니다.
case 3: // n === 3이면 여기서 시작합니다.
	// 코드 블록 #3을 실행합니다.
	break; // 여기서 멈춥니다.
default: // 전부 실패하면... 
	// 코드 블록 #4를 실행합니다.
	break; // 여기서 멈춥니다.
}
```

switch 문은 switch 키워드 다음에 있는 표현식을 가장 먼저 평가하고, 그다음에 는 일치하는 값을 찾을 때까지 case 표현식을 순서대로 평가

일치하는 케이스를 찾을 때는 동등 연산자 ==가 아니라 일치 연산자 ===을 사용하므로, 표현식 은 반드시 타입 변환을 거치지 않고 일치해야 한다

## **5.4** 반복문

### **5.4.1 while**

```jsx
while (expression)
	statement
```

### **5.4.2 do/while**

```jsx
do
	statement
while (expression);
```

### **5.4.3 for**

```jsx
for(initialize ; test ; increment) 
	statement
```

### **5.4.4 for/of**

이터러블(iterable) 객체에서 동작

배열, 문자열, 세트, 맵이 이터러블

for/of 루프로 순회할 수 있는 일종의 연 속체 (sequence) 또는 일련의 요소

```jsx
let data= [1, 2, 3, 4, 5, 6, 7, 8, 9], sum= 0; 
for(let element of data) {
	sum += element; 
}
sum // => 45
```

### **5.4.5 for/in**

지정된 객체의 프로퍼티 이름을 순회

```jsx
for (variable in object) 
	statement
```

## **5.5** 점프 문

자바스크립트 인터프리터가 소스 코드의 다른 위치로 이동하게한다

### **5.5.1** 라벨붙은 문

어떤 문이든 식별자와 콜론을 붙여서 라벨을 만들 수 있다

문에 라벨을 붙이는 것은 프로그램 다른 곳에서 참조할 수 있는 이름을 짓는 것과 같다

```jsx
identifier: statement
```

루프나 조건문처럼 바디가 있는 문에 라벨을 붙여야 유용

```jsx
mainloop: while(token !== null) {
	// 코드는 생략했습니다.
	continue mainloop; // 이 루프의 다음 반복으로 건너뜁니다. 
	// 코드는 생략했습니다.
}
```

### **5.5.2 break**

break 문은 단독으로 사용하면 자신을 포함하고 있는 가장 가까운 루프 또는 switch 문을 즉시 빠져나간다

루프에서는 일반적으로 어떤 이유로든 루프를 더 진행할 필요가 없을 때 일찍 끝내는 용도로 사용

### **5.5.3 continue**

루프 안에서 continue를 사용하면 루프의 다음 반복으로 넘어간다

- while 루프에서는 expression(표현식)을 루프 맨 위에서 다시 평가하고, true이 면 루프 바디를 맨 위에서부터 실행합니다
- do/while 루프에서는 루프 맨 아래까지 건너뛴 다음, 루프 조건을 다시 평가한 후 맨 위부터 재시작합니다.
- for 루프에서는 increment(증가) 표현식을 평가하고 다시 test(테스트) 표현식 을 평가해서 반복을 재개할지 결정합니다.
- for/of와 for/in 루프에서는 다음 값 또는 프로퍼티 이름이 variable(변수)에 할당됩니다.

### **5.5.4 return**

함수 호출의 값을 지정

함수 바디 안에만 쓸 수 있다

return 문이 없는 함수 호출은 함수 바디의 각 문을 차례대로 실행한 다음 호출자 에게 돌아간다. 이런 경우 호출 표현식은 undefined로 평가됨

함수는 return 문을 실행하는 즉시 호출자에게 돌아가며 함수 바디 안에 있는 다른 문은 무시

### **5.5.5 yield**

ES6 제너레이터 함수 안에서만 사용되며 실제로 제어권을 넘기지 않고 다음 값만 넘길 때 사용

```jsx
// 일정 범위의 정수를 전달하는 제너레이터 함수
function* range(from, to) {
	for(let i = from; i <= to; i++) {
	yield i; 
	}
}
```

12.4.2절에서 설명

### **5.5.6 throw**

예외(exception)는 예외적인 조건이나 에러가 일어났다는 신호

### **5.5.7 try/catch/finally**

자바스크립트의 예외 처리 메커니즘

try 절은 처리하려 하는 예외가 담긴 코드 블록

try 블록에서 예외가 일어나면 catch 절이 호출

finally는 try 블록에서 무슨 일이 일어났든 관계없이 실행되는 일 종의 정리 코드

```jsx
try {
	// 문제가 없을 경우 일반적으로 이 코드는 블록 위쪽에서
	// 아래쪽으로 실행됩니다. 하지만 이 코드는 때때로 예외를 일으킬 수 있는데,
	// throw 문을 통해 예외를 직접 일으키거나 예외를 일으키는 // 메서드를 호출해서 간접적으로 일으킵니다.
}
catch(e) {
	// 이 블록의 문은 try 블록에서 예외를 일으켰을 때만 실행됩니다. // 이 문은 로컬 변수 e를 사용할 수 있으며 이 변수는
	// Error 객체 또는 전달받은 값을 참조합니다
	// 이 블록은 예외를 처리할 수도 있고,
	// 아무 일도 하지 않고 무시할 수도 있으며,
	// throw를 통해 다시 예외를 일으킬 수도 있습니다. }
finally {
	// 이 블록은 try 블록에서 무슨 일이 있었든 항상 실행됩니다. 경우의 수는 다음과 같습니다
	// 1) 정상적으로 try 블록의 끝에 도달한 경우
	// 2) break, continue, return 문을 통해 try 블록을 빠져나가는 경우 3)위catch절에서처리한예외때문에try블록이종료된경우
	// 4) 예외가 캐치되지 않고 계속 전파되는 경우
}
```

## **5.6** 기타 문

### **5.6.1 with**

with 문은 지정된 객체의 프로퍼티가 해당 블록의 스코프 안에 있는 변수인 것처럼 코드 블록을 실행

```jsx
with (object)
	statement
```

object(객체)의 프로퍼티를 사용해 임시 스코프를 만들고, 그 스코프 안에 서 statement(문)을 실행

스트릭트 모드에서는 with 문을 금지

### **5.6.2 debugger**

debugger 문은 일반적으로는 아무 일도 하지 않는다

중단점 기능. 자바스 크립트 코드 실행을 멈춘다

### **5.6.3 “use strict”**

"use strict"는 ES5에서 도입한 지시자(directive)

스트릭트 모드를 따르는 코드라는 선언

- with 허용하지 않음
- 반드시 모든 변수를 선언해야함
- 메서드가 아니라 함수로 호출된 함수의 this 값은 un defined
- 

## **5.7** 선언

### **5.7.1 const, let, var**

ES6 이후 const는 상수를, let은 변수를 선언

var로 선언한 변수는 포함하는 블록이 아니라 함수를 스코프로 가짐

### **5.7.2** 함수

함수를 선언하는 것을 ‘호이스팅된다(끌어올려진다)’라고 표현

함수 선언은 어떤 스코프에서 정의 됐든 항상 그 맨 위에 있는 것처럼 처리하기 때문

결과적으로 함수를 선언 하는 코드보다 앞에 있는 코드에서 그 함수를 호출할 수 있다.

### **5.7.3** 클래스

ES6 이후에는 class 선언으로 새 클래스를 생성하고 이름을 붙인다

함수와 달리 클래스 선언은 끌어올려지지 않으며, 위와 같이 선언한 클래스는 선언 하기 전에는 사용할 수 없다

### **5.7.4** 가져오기와 내보내기

import와 export 선언은 다른 모듈에서 정의한 값을 사용할 수 있게 한다

import 지시자는 다른 모듈에서 하나 이상의 값을 가져오고, 현재 모듈에서 사용 할 이름을 부여

export 키워드는 때때로 다른 선언을 변경하여 상수, 변수, 함수, 클래스를 정의하 는 동시에 내보내는 일종의 복합 선언을 만들 수 있다

모듈에서 내보 내는 값이 단 하나뿐일 때는 일반적으로 export default를 사용

## **5.8** 자바스크립트 문 요약

| 문                | 목적                                                                     |
| ----------------- | ------------------------------------------------------------------------ |
| break             | 가장 안쪽 루프나 switch, 또는 감싸고 있는 이름 붙은 문에서 빠져나옵니다. |
| case              | switch 안의 문에 라벨을 붙입니다.                                        |
| class             | 클래스를 선언합니다.                                                     |
| const             | 하나 이상의 상수를 선언하고 초기화합니다.                                |
| continue          | 가장 안쪽의 루프 또는 이름 붙은 루프의 다음 반복을 시작합니다.           |
| debugger          | 디버거 중단점                                                            |
| default           | switch의 기본 문에 붙이는 라벨                                           |
| do/while          | while 루프와 비슷한 루프                                                 |
| export            | 다른 모듈에서 가져올 수 있는 값을 선언합니다.                            |
| for               | 사용하기 쉬운 루프                                                       |
| for/await         | 비동기 이터레이터의 값을 비동기적으로 순회합니다.                        |
| for/in            | 객체의 프로퍼티 이름을 열거합니다.                                       |
| for/of            | 배열 같은 이터러블 객체의 값을 열거합니다.                               |
| function          | 함수를 선언합니다.                                                       |
| if/else           | 조건에 따라 문을 실행합니다.                                             |
| import            | 다른 모듈에서 정의한 값의 이름을 선언합니다.                             |
| label             | 문에 break와 continue에서 사용할 이름을 붙입니다.                        |
| let               | 하나 이상의 블록 스코프 변수를 선언하고 초기화합니다. (새 문법)          |
| return            | 함수에서 값을 반환합니다                                                 |
| switch            | case 또는 default: 라벨로 분기하는 다중 분기점                           |
| throw             | 예외를 일으킵니다.                                                       |
| try/catch/finally | 예외를 처리하고 코드를 정리합니다.                                       |
| "use strict"      | 스크립트나 함수에 스트릭트 모드 제한을 적용합니다.                       |
| var               | 하나 이상의 변수를 선언하고 초기화합니다. (구 문법)                      |
| while             | 기본적인 루프                                                            |
| with              | 스코프 체인을 확장합니다. (스트릭트 모드에서는 사용 금지)                |
| yield             | 순회할 값을 전달합니다. 제너레이터 함수에서만 사용할 수 있습니다.        |